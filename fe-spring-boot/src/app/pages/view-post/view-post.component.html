<div class="px-5 mt-3">
  <p-image
    [src]="post?.thumbnail"
    [alt]="post?.title"
    [imageStyle]="{'width': '100%'}"
    [style.width.%]="100"
    height="400"/>
  <div class="font-bold text-3xl mt-3 p-3">{{ post?.title }}</div>
  <div class="flex align-items-center justify-content-between border-y-2 mt-5 p-3 border-200">
    <div class="font-bold">{{ post?.author?.firstName }} {{ post?.author?.lastName }}</div>
    <div class="font-bold">{{ post?.createdAt }}</div>
    <div (click)="likePost(post.id)" class="relative cursor-pointer">
      <i [class]="post.authorsOfLike.includes(5) ? 'pi-heart-fill':'pi-heart'" [style.color]="'red'"
         class="pi"
         style="font-size: 2rem">
      </i>
      <small [class]="post.authorsOfLike.includes(5) ? 'text-white':'text-black'" class="absolute"
             [style]="{top: '8px', left: '12px'}">{{ post?.authorsOfLike?.length }}</small>
    </div>
  </div>

  <div class="mt-5 px-8">
    @for (content of post?.contents; track post) {
      <div class="my-5 px-8">
        <div componentGenerationDirective [type]="content.type" [value]="content.value"></div>
      </div>
    }
  </div>

  <div class="flex align-items-center justify-content-between">
    <div class="card flex align-items-center gap-2 my-5">
      <span class="font-bold">Tags: </span>
      @for (tag of post?.tags; track tag) {
        <p-tag severity="success" [value]="tag.title" [rounded]="true"/>
      }
    </div>
    <div class="card flex align-items-center gap-2 my-5">
      <span class="font-bold">Category: </span>
      <p-tag severity="success" [value]="post?.category?.title" [rounded]="true"/>
    </div>
  </div>


</div>

<app-comments></app-comments>
